<html>
<head>
    <title>Plugins</title>
    <link href="{{ url_for('static', path='bootstrap.min.css') }}"  rel="stylesheet">
</head>
<body>
    <main>
      <nav class="navbar">
        <div class="container-fluid">
          <a class="navbar-brand ms-5" href="/">
            ðŸ˜‡&nbsp;Plugin Heaven
          </a>
        </div>
      </nav>
      <div>
        <div class="container-fluid bg-body-tertiary">
          <div class="col-md-8 p-lg-5 ms-1 mb-5">
            <h1 class="display-3 fw-bold">Better plugin directory </h1>
            <h3 class="fw-normal text-muted mb-3">Find plugins that will elevate your website</h3>
          </div>
        </div>
        <div class="container mt-2">
          <form class="row">
            <div class="col-6 mb-1">
              <div class="mb-3">
                <input type="search"
                       name="search"
                       class="form-control"
                       id="exampleFormControlInput1"
                       placeholder="Search for a plugin"
                       hx-post="/search"
                       hx-trigger="input changed delay:500ms, search, change from:[name='sort'], change from:[name='nozerocode']"
                       hx-target="#search-results"
                       hx-include="[name='sort']">
              </div>
            </div>
            <div class="col-4">
              <div class="input-group mb-3">
                <label class="input-group-text" for="sort-select">Sort By</label>
                <select name="sort" class="form-select" id="sort-select">
                  <option selected value="">None</option>
                  <option value="downloads:desc">Downloads DESC</option>
                  <option value="downloads:asc">Downloads ASC</option>
                </select>
              </div>
            </div>
            <div class="col-2">
              <input type="checkbox" name="nozerocode" class="btn-check" id="btn-check" autocomplete="off">
              <label class="btn btn-secondary" for="btn-check">No Zerocode</label>
            </div>
          </form>
          <div id="search-results">
            {% include 'plugins.html' %}
          </div>
        </div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/htmx.org@2.0.0" integrity="sha384-wS5l5IKJBvK6sPTKa2WZ1js3d947pvWXbPJ1OmWfEuxLgeHcEbjUUA5i9V5ZkpCw" crossorigin="anonymous"></script>
</body>
</html>